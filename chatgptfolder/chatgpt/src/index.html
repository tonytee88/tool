<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <style>
      body {
        font-family: Arial, sans-serif

      }
      
    </style>
    <script>
      //Explicitly console.logging the window error to be able to capture them for bug reporting :
      window.addEventListener("error", function(event) {
        if (event.error && event.error.stack) {
            console.log("Error stack: " + event.error.stack);
        } else {
            console.log("Error object: " + JSON.stringify(event.error));
        }
    });
      function loadMainJS() {
      const script = document.createElement("script");
      script.src = "http://localhost:3000/static/bigupdate/javascript.js";
      script.crossOrigin = "anonymous";
      script.onload = function() {
        // Callback for when script is loaded and executed.
      };
      script.onerror = function() {
        console.error("Error loading external main js.");
      };
      document.head.appendChild(script);
    }
    function loadMongo() {
      const script = document.createElement("script");
      script.src = "http://localhost:3000/static/bigupdate/mongodb.js";
      script.crossOrigin = "anonymous";
      script.onload = function() {
        // Callback for when script is loaded and executed.
      };
      script.onerror = function() {
        console.error("Error loading external mongodb js.");
      };
      document.head.appendChild(script);
    }
  function loadMainCSS() {
    const link = document.createElement("link");
    link.rel = "stylesheet";
    link.type = "text/css";
    link.href = "http://localhost:3000/static/bigupdate/stylesheet.css";
    
    link.onload = function() {
      console.log("External stylesheet loaded via local");
    };
    
    link.onerror = function() {
      console.error("Error loading external stylesheet.");
    };

    document.head.appendChild(link);
  }

  </script>
    </head>
  <body>
    <div id="pageBG">
      <div id="topContainer">
        <div id="statusMessage"></div>
      </div>
      <div id="midContainer">
        <div class="container">
          <div id="step2">
            <h1 class="titles">Step2 : What's inside your email?</h1>
            <div class="section" id="chosenContainer">
              <div class="label" id="chosen">Chosen Elements:</div>
              <button class="element-button">Email Subject Line</button>
              <button class="element-button">Email Preview Text</button>
              <button class="element-button">HeroBanner Title</button>
              <button class="element-button">HeroBanner Text</button>
              <button class="element-button">HeroBanner CTA</button>
              <button class="element-button">DescriptiveBlock Title</button>
              <button class="element-button">DescriptiveBlock Text</button>
              <button class="element-button">DescriptiveBlock CTA</button>
              <button class="element-button">ProductBlock Title</button>
              <button class="element-button">ProductBlock Text</button>
              <button class="element-button">ProductBlock CTA</button>
              <div class="element-buttons" id="chosenSection"></div>
            </div>
            <div class="section">
              <div class="label">Recommended Elements:</div>
              <div class="element-buttons" id="recommendedSection">
                <button class="element-button">Benefits1 Title</button>
                <button class="element-button">Benefits1 Text</button>
                <button class="element-button">Tip1 Title</button>
                <button class="element-button">Tip1 Text</button>
              </div>
          
          
            <div class="section">
              <div id="otherElements" class="label">Other Elements:</div>
              <div id="otherSection"></div>
              <div class="input-field">
                <form action="">
                <input type="text" id="otherElementInput" class="form-control">
                <button id="addElementButton"type="submit">Add</button>
              </form>
              </div>
            </div>
          </div>
        </div>
        <div id="step3">
          <h1 class="titles">Step3 : Here's your email!</h1>
          <div id="tableContainer">
            <button class="option-button hideButton" id="loadTags">Load Tags</button>
            <div id="tagList"></div>
            <div>
              <button class="option-button hideButton" id="qaButton">Refresh</button>
            </div>
            <div id="updateContainer">
              <button class="option-button" id="update" type="submit">Update my document!</button>
              <button class="option-button" id="updateBilingual">Update & FR</button>
            </div>
          </div>
        </div>
        <div id="step1">
          <form action="" id="gptRequest">
          <h1 class="titles">Step1 : Give me some info</h1>
          <div id="clientDiv">
          <div id="clientLabel">Pick a client : </div>
          <select id="clients" name="clients"></select>
          </div>
          <div id="subjectLabel" class="label">Subject</div>
          <input type="text" id="subject" class="form-control" placeholder="Gab's Candlefest tickets now available!" value="Black Friday deals are here! hurry and save 50% on all furnitures">
          <div class="label">Language</div>
          <input type="text" id="lang" class="form-control" placeholder="Fran√ßais (Qu√©bec)" value="English">
          <div id="infoTitle" class="label">Extra info</div>
          <textarea id="info" class="form-control large-input" placeholder="On est dans l'industrie des chandelles pour les sorci√®res. Le ton √† utiliser est malin et comique. Le lancement de l'√©v√©nement s'adresse aux nouveaux-parents qui veulent la paix.">We are in the furniture for mid-class citizens. The material is premium but affordable. Most of all, it's very eco-friendly. The rebate is 50% off on all models for the first 100 customers.</textarea>
          <button id="goButton" class="option-button" type="submit">GO!</button>
          </form>
        </div>
        <div id="step4">
          <h1 class="titles">Step4 : Let's make it better</h1>
          
          <button class="option-button" id="testFunction">Test Function1</button>
          <form action="" id="clientTraits">
          <textarea id="traits" class="form-control large-input" placeholder="How can I improve this copy and all futur copies?"></textarea>
          <button class="option-button spacedButtons hideButton" id="gptMagicButton" type="submit">GPT-Correction</button>
          </form>
        </div>
        <div id="step5">
          <h1 class="titles">Step5 : Inside the Brain</h1>
          <div class="note">This is for advanced users only, don't click anything if you don't know what these buttons do!</div>
          <div class="label">Client name (3 letters)</div>
          <input type="text" id="clientNameStep5" class="form-control" placeholder="Client Name, e.g : ONT">
          <button class="option-button spacedButtons mongoMagic" id="findOneMongo" type="submit">Find One Mongo</button>
          <button class="option-button spacedButtons mongoMagic" id="findAllMongo" type="submit">Find All Mongo</button>
          <button class="option-button spacedButtons mongoMagic" id="updateMongo" type="submit">Update Mongo</button>
          <button class="option-button spacedButtons mongoMagic" id="deleteMongo" type="submit">Delete Mongo</button>
          <div id="mongoDisplay"></div>
          <button class="option-button spacedButtons" id="mongoDisplayButton">Display Brain</button>
          <button class="option-button spacedButtons" id="startCreateMongoProcess" type="submit">Create a new client</button>
        </div>
        <div id="step6">
          <h1 class="titles">Create a new client</h1>
          <div class="note">This is for advanced users only, don't click anything if you don't know what these buttons do!</div>
          <input type="text" id="newClientName" class="form-control" placeholder="Client Name, e.g : ONT">
          <button class="option-button spacedButtons" id="createMongo" type="submit">Create</button>
        </div>
        <div id="step7">
          <h1 class="titles">Report a bug to fix</h1>
          <div class="note">An Asana Task will be created and assign to Tony. I will followup as soon as I can!</div>
          <input type="text" id="bugReporter" class="form-control" placeholder="Enter your name">
          <input type="text" id="bugTitle" class="form-control" placeholder="Enter a meaningful title">
          <textarea id="bugInfo" class="form-control large-input" placeholder="What were you trying to do? What did you expect to see/get versus what you actually got."></textarea>
          <button class="option-button spacedButtons" id="sendBugReport" type="submit">Send</button>
        </div>
        </div>
      </div>
      <div id="navigation" class="sticky">
        <button id="goBackButton" class="option-button"disabled>Back</button>
        <button id="goNextButton"class="option-button">Next</button>
        <button id="goStep5">üß†</button>
        <button id="goBugReport">üêõ</button>
      </div>
      <div id="bottomContainer">

        <div id="optionsContainer">
        <div id="optionsHoverBottom" class="optionsHover"></div>  
      
        <script>
          loadMainCSS();
          loadMongo();
          loadMainJS();
        </script>
      
      </div>
      </div>
    </div>

  </body>
</html>